%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% DECOMP
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Decomposition and Inertia Groups}

In this chapter we will study extra structure in the case when~$K$
is Galois over~$\QQ$. We will learn about Frobenius elements,
the Artin symbol, decomposition groups, and how the Galois group of
$K$ is related to Galois groups of residue class fields. These are
the basic structures needed to attach $L$-functions to representations of
$\Gal(\overline{\QQ}/\QQ)$, which will play a central role in the next few chapters.

\section{Galois Extensions}

In this section we give a survey (no proofs) of the basic facts about
Galois extensions that will be needed in the rest of this chapter.
\begin{definition}[Galois]
  An extension $L/K$ of number fields is \defn{Galois} if
  \[
    \#\Aut(L/K) = [L:K],
  \]
  where $\Aut(L/K)$ is the group of automorphisms of $K$
  that fix $L$.  We write
  \[
    \Gal(L/K) = \Aut(L/K).
  \]
\end{definition}
For example, if $K \subset \CC$ is a number field embedded in the complex numbers,
then $K$ is \defn{Galois} over $\QQ$ if every field
homomorphism $K \to \CC$ has image $K$. As another example, any quadratic
extension $L/K$ is Galois over $K$, since it is of the form $K(\sqrt{a})$,
for some $a \in K$, and the nontrivial automorphism is induced
by $\sqrt{a} \mapsto -\sqrt{a}$, so there is always one nontrivial automorphism.
If $f \in K[x]$ is an irreducible cubic polynomial, and $\alpha$ is
a root of $f$, then one proves in a course on Galois theory that $K(\alpha)$
is Galois over $K$ if and only if the discriminant of~$f$ is a perfect square
in~$K$. ``Random'' number fields of degree bigger than $2$ are rarely Galois.

If $K \subset \CC$ is a number field, then the \defn{Galois closure} $\overline{K}$
of $K$ in $\CC$ is the field generated by all images of~$K$ under all
embeddings in~$\CC$ (more generally, if $L/K$ is an extension, the
Galois closure of $L$ over $K$ is the field generated by images of
embeddings $L \to \CC$ that are the identity map on $K$).

\begin{exercise}
  Suppose $K \subset \CC$ is a number field of the form $\QQ(\alpha)$ for some
  $\alpha \in \CC$. Show that $\overline{K}$ is generated (as an extension of $\QQ$)
  by all the conjugates of $\alpha$.
  %the image under an embedding of any
  %polynomial in the conjugates of~$\alpha$ is again a polynomial in
  %conjugates of $\alpha$.
\end{exercise}

How much bigger can the degree of $\overline{K}$ be as compared to the
degree of $K=\QQ(\alpha)$? There is an embedding of $\Gal(\overline{K}/\QQ)$
into the group of permutations of the conjugates of $\alpha$.
If $\alpha$ has $n$ conjugates, then this is an embedding
$\Gal(\overline{K}/\QQ) \hookrightarrow S_n$, where $S_n$ is the symmetric group on~$n$
symbols, which has order~$n!$. Thus the degree of the $\overline{K}$ over~$\QQ$
is a divisor of $n!$. Also $\Gal(\overline{K}/\QQ)$ is a transitive
subgroup of $S_n$, which constrains the possibilities further.
When $n=2$, we recover the fact that quadratic extensions are Galois.
When $n=3$, we see that the Galois closure of a cubic extension is either
the cubic extension or a quadratic extension of the cubic extension.
One can show that the Galois closure of a cubic extension is obtained
by adjoining the square root of the discriminant, which is why an
irreducible cubic defines a Galois extension if and only if the discriminant
is a perfect square.

For an extension $K$ of $\QQ$ of degree $5$, it is ``frequently'' the case that
the Galois closure has degree $120$, and in fact it is an interesting problem
to enumerate examples of degree~$5$ extensions in which the Galois closure
has degree smaller than $120$. For example, the only possibilities for the
order of a transitive proper subgroup of $S_5$ are $5$, $10$, $20$, and $60$;
there are also proper subgroups of $S_5$ order $2, 3, 4, 6, 8, 12$, and $24$,
but none are transitive.

\begin{exercise}
  Let $\alpha$ be a root of the irreducible polynomial $f(x) = x^5 - 6x + 3$ and
  let $K = \QQ(\alpha)$.
  \begin{enumerate}
    \item
    Use {\Sage} to verify that the Galois group $\Gal(\overline{K}/\QQ)$
    has order $120$.
    Warning: this command may take a long time to run.
    Try to finish the second part of this exercise before your code
    finishes.
    %%%time
    %R.<x> = ZZ[]
    %f = x^5 - 6*x + 3
    %K.<a> = NumberField(f)
    %Kgc.<b> = K.galois_closure()
  
    \item
    One can show that $f$ has three real roots and two complex roots.
    Show that $\Gal(\overline{K}/\QQ)$ contains an element of order $5$ and
    an element of order $5$. Use this to argue that $\Gal(\overline{K})/\QQ$
    has order $120$.
  \end{enumerate}
  \begin{hint}
    Number fields in {\Sage} have a {\tt galois\_closure()} command that
    returns the Galois closure of the field.
    For the second part, you want to show that any $5$-cycle and transposition
    will generate $S_5$.
  \end{hint}
\end{exercise}

\begin{example}
  Let $n$ be a positive integer. Consider the field $K=\QQ(\zeta_n)$,
  where $\zeta_n=e^{2\pi i/n}$ is a primitive $n$th root of unity.  If
  $\sigma:K\to \CC$ is an embedding, then $\sigma(\zeta_n)$ is also an
  $n$th root of unity, and the group of $n$th roots of unity is cyclic.
  So $\sigma(\zeta_n) = \zeta_n^m$ for some $m$ which is invertible
  modulo $n$.  Thus $K$ is Galois and $\Gal(K/\QQ) \hookrightarrow (\ZZ/n\ZZ)^*$.
  However, $[K:\QQ] = \varphi(n)$, so this map is an isomorphism.
\end{example}

\begin{remark}
  Taking a limit using the maps $\Gal(\overline{\QQ}/\QQ)\to
  \Gal(\QQ(\zeta_{p^r})/\QQ)$, we obtain a homomorphism $\Gal(\overline{\QQ}/\QQ)\to
  \ZZ_p^*$, which is called the {\em $p$-adic cyclotomic character}.
\end{remark}

Compositums of Galois extensions are Galois.  For example, the
biquadratic field $K=\QQ(\sqrt{5},\sqrt{-1})$ is a Galois
extension of $\QQ$ of degree~$4$, which is the compositum
of the Galois extensions $\QQ(\sqrt{5})$ and $\QQ(\sqrt{-1})$ of $\QQ$.

Fix a number field $K$ that is Galois over $\QQ$.
Then the Galois group acts on many of the objects
that we have associated to $K$.

\begin{exercise}\label{ex:galois-action-on-things}
  Let $L/K$ be a Galois extension of number fields, and let $G = \Gal(L/K)$.
  Describe the natural action of $G$ on the following objects:
  \begin{itemize}
    \item The ring of integers $\sO_K$.
    \item The group units $U_K$.
    \item The set of ideals of $\sO_K$.
    \item The group of fractional ideals of $\sO_K$.
    \item The class group $\Cl(K)$.
    \item The set $S_\p$ of prime ideals of $\sO_L$ lying over a given nonzero
    prime ideal $\p$ of $\sO_K$, i.e., the prime divisors of $\p\sO_L$.
  \end{itemize}
\end{exercise}

In the next section we will be concerned with the action of
$\Gal(L/K)$ on $S_\p$, though actions on each of the other objects,
especially $\Cl(L)$, are also of great interest. Understanding the
action of $\Gal(L/K)$ on $S_{\p}$ will enable us to associate, in a
natural way, a holomorphic $L$-function to any complex representation
$\Gal(L/K) \to \GL_n(\CC)$.

\section{Decomposition of Primes: $efg=n$}

Let $L/K$ be an extension of number fields and let $\p$ be a prime
in $\sO_K$. By Theorem~\ref{thm:intuniqfac} the ideal $\p\sO_L$ factors
uniquely into a product of primes of $\sO_L$ given by
\[
  \p\sO_L = \prod_{i=1}^g \P^{e_i}_i,
\]
where the $\q_i$ are the prime ideals of $\sO_L$ laying over $\p$, and
the $e_i$ are positive integers. The goal of this section is to study this
factorization. First we will introduce some standard terminology.

\begin{definition}[Ramification Index]
  The \defn{ramification index} of $\q_i$ over $\p$ is
  \[
    e(\P_i/\p) = e_i.
  \]
\end{definition}

\begin{definition}[Inertia degree]
  The \defn{inertia degree}
  of $\P_i$ over $\p$ is
  \[
    f(\P_i/\p) = \left[\sO_L/\P_i : \sO_K/\p\right].
  \]
\end{definition}

\begin{exercise}\label{ex:ramificationmultiplicative}
  The following properties follow quickly from the definitions.
  Let $M/L/K$ be a tower of number fields. Let $\p$ be a prime
  in $\sO_K$, $\q$ a prime in $\sO_L$ lying over $\p$, and $\P$ a prime
  in $\sO_M$ lying over $\q$.
  \begin{enumerate}
    \item[(a)] Show that $e(\P/\p)=e(\P/\q) \cdot e(\q/\p)$.
    \item[(b)] Show that $f(\P/\p)=f(\P/\q) \cdot f(\q/\p)$.
    \item[(c)] Let $g_{L/K}(\p)$, $g_{M/K}(\p)$ be the number of primes
    of $\sO_L$, $\sO_M$ lying over $\p$ respectively. Show that
    \[
      g_{M/K}(\p) = \sum\limits_{\q \text{ divides } \p\sO_L} g_{L/K}(\q).
    \]
  \end{enumerate}
\end{exercise}

Now suppose that $L/K$ is Galois and let $\sigma\in\Gal(L/K)$.
We saw in Exercise~\ref{ex:galois-action-on-things} that $\Gal(L/K)$ acts
naturally on the set $S_\p$ for a prime $\p$ of $\sO_K$.
This means that $\sigma(\P) \in S_\p$ for any $\P \in S_\p$. Moreover,
$\sigma$ induces an isomorphism of finite fields $\sO_L/\P\to \sO_L/\sigma(\P)$
that fixes the common subfield $\sO_K/\p$. Thus $\P$ and $\sigma(\P)$ have
the same inertia degree, i.e. $f(\P/\p) = f(\sigma(\P)/\p)$.
In fact, much more is true.

\begin{theorem}\label{thm:transitive}\ithm{transitive Galois action}
  Suppose $L/K$ is a Galois extension of number fields,
  and let $\p$ be a prime of $\sO_K$. 
  Write $\p\sO_K = \prod_{i=1}^g \P_i^{e_i}$, and let $f_i = f(\P_i/\p)$.
  Then $G = \Gal(L/K)$ acts transitively on the set $S_\p$ of primes $\P_i$,
  and
  \[
    e_1 = \cdots = e_g, \qquad f_1 = \cdots = f_g.
  \]
  Moreover, if we let $e$ be the common value of the $e_i$,
  $f$ the common value of the $f_i$, and $n = [K:L]$, then
  \[
    efg = n.
  \]
\end{theorem}
\begin{proof}
  For simplicity, we will give the proof only for an extension $K/\QQ$, but
  the proof works in general. Suppose $p \in \ZZ$ and
  $p\sO_K = \p_1^{e_1}\cdots \p_g^{e_g}$, and $S = \{\p_1,\ldots, \p_g\}$.  We
  will first prove that $G = \Gal(K/\QQ)$ acts transitively on $S$. 
  Let $\p = \p_i$ for some~$i$.
  Recall Lemma~\ref{lem:magica} which we proved long ago using the
  Chinese Remainder Theorem (Theorem~\ref{thm:crt}). It showed there exists
  $a\in\p$ such that $(a)/\p$ is an integral ideal that is
  coprime to $p\sO_K$.   The product
  \begin{equation}\label{eqn:prodquo}
    I = \prod_{\sigma\in G} \sigma((a)/\p)
    = \prod_{\sigma\in G} \frac{(\sigma(a))\sO_K}{\sigma(\p)}
    = \frac{(\Norm_{K/\QQ}(a))\sO_K}{\displaystyle \prod_{\sigma\in G} \sigma(\p)}
  \end{equation}
  is a nonzero integral $\sO_K$ ideal since it is a product of nonzero
  integral $\sO_K$ ideals.
  Since $a\in \p$ we have that
  $\Norm_{K/\QQ}(a) \in \p\cap\ZZ=p\ZZ$.  Thus the numerator of
  the rightmost expression in (\ref{eqn:prodquo}) is
  divisible by $p\sO_K$.   Also, because $(a)/\p$ is coprime
  to $p\sO_K$, each $\sigma((a)/\p)$ is coprime to $p\sO_K$
  as well.   Thus $I$ is coprime to $p\sO_K$.   This means the
  denominator of the rightmost expression in (\ref{eqn:prodquo})
  must also be divisible by $p\sO_K$ in order to cancel the $p\sO_K$
  in the numerator.  Thus we have shown that for any~$i$,
  \[
    \prod_{j=1}^g \p_j^{e_j}
    = p\sO_K \,\,\Big|\,\, \prod_{\sigma\in G} \sigma(\p_i).
  \]
  By unique factorization, since every $\p_j$ appears in the left hand
  side, we must have that for each~$j$ there is a~$\sigma$ with
  $\sigma(\p_i)=\p_j$, i.e., $G$ acts transitively on $S$.

  Choose some $j$ and suppose that $k\neq j$ is another index.  Because
  $G$ acts transitively, there exists $\sigma\in G$ such that
  $\sigma(\p_k)=\p_j$.  Applying $\sigma$ to the factorization $p\sO_K =
  \prod_{i=1}^g \p_i^{e_i}$, we see that
  \[
    \prod_{i=1}^g \p_i^{e_i} = \prod_{i=1}^g \sigma(\p_i)^{e_i}.
  \]
  Using unique factorization,
  we get $e_j = e_k$.  Thus $e_1=e_2=\cdots = e_g$.

  As was mentioned right before the statement of the theorem,
  for any $\sigma\in G$ we have $\sO_K/\p_i\isom \sO_K/\sigma(\p_i)$.
  Since $G$ acts transitively it follows that $f_1=f_2=\cdots = f_g$.
  We have, upon applying the Chinese Remainder Theorem
  and noting $\#(\sO_K/(\p^m)) = \#(\sO_K/\p)^m$
  (see Exercise~\ref{ex:residuefieldofpower}), that
  \begin{align*}
    [K:\QQ]&= \dim_{\ZZ} \sO_K = \dim_{\FF_p} \sO_K/p\sO_K \\
    &= \dim_{\FF_p} \left(\bigoplus_{i=1}^g \sO_K/\p_i^{e_i}\right)
    = \sum_{i=1}^g e_i f_i
    = efg,
  \end{align*}
  which completes the proof.
\end{proof}

\subsection{Examples}

This section gives examples illustrating the theorem for quadratic fields
and a cubic field and its Galois closure.

\subsubsection{Quadratic Extensions}

Suppose $K/\QQ$ is a quadratic field. 
Then $K$ is Galois, so for each prime $p\in\ZZ$ we have $2 = efg$.
There are exactly three possibilities for $e$, $f$ and $g$ :
\begin{description}
  \item[\normalfont{(Ramified):}] $e=2$, $f=g=1$: The prime $p$ \emph{ramifies} in
  $\sO_K$, which means $p\sO_K = \p^2$.  Let $\alpha$ be a generator for $\sO_K$ and
  $h \in \ZZ[x]$ a minimal polynomial for $\alpha$.
  By Theorem~\ref{thm:fac1} a prime $p$ is ramified in $\sO_K$ if and only if
  $h$ has a double root modulo~$p$, which is equivalent to $p$ dividing
  the discriminant of $h$. This shows there are only finitely many ramified
  primes.

  \item[\normalfont{(Inert):}] $e=1$, $f=2$, $g=1$: The prime $p$ is \emph{inert} in $\sO_K$,
  which means $p\sO_K = \p$ is prime.  It is a nontrivial theorem that
  this happens half of the time,
  as we will see illustrated below for a particular example.

  \item[\normalfont{(Split):}] $e=f=1$, $g=2$: The prime $p$ \emph{splits} in $\sO_K$,
  which means $p\sO_K = \p_1\p_2$ with $\p_1\neq \p_2$.  This happens the other
  half of the time.
\end{description}

\begin{example}\label{exam:decompQsqrt5}
  Let $K=\QQ(\sqrt{5})$, so $\sO_K=\ZZ[\gamma]$, where
  $\gamma=(1+\sqrt{5})/2$.  Then $p=5$ is ramified, since $5\sO_K =
  (\sqrt{5})^2$.  More generally, the order $\ZZ[\sqrt{5}]$ has index $2$
  in $\sO_K$, so for any prime $p\neq 2$ we can determine the
  factorization of $p$ in $\sO_K$ by finding the factorization of the
  polynomial $x^2-5\in \FF_p[x]$. The polynomial $x^2-5$ splits as a
  product of two distinct factors in $\FF_p[x]$ if and only if $e=f=1$
  and $g=2$. For $p\neq 2,5$ this is the case if and only if $5$ is a
  square in $\FF_p$, i.e., if $\Legendre{5}{p} = 1$, where $\Legendre{5}{p}$ is $+1$
  if $5$ is a square mod $p$ and $-1$ if $5$ is not.  By quadratic
  reciprocity,
  \[
    \Legendre{5}{p}
    = (-1)^{\frac{5-1}{2}\cdot \frac{p-1}{2}} \cdot \Legendre{p}{5}
    = \Legendre{p}{5}
    = \begin{cases}
      +1 & \text{ if } p \equiv \pm 1\pmod{5} \\
      -1 & \text{ if } p \equiv \pm 2\pmod{5}.
    \end{cases}
  \]
  Thus whether $p$ splits or is inert in
  $\sO_K$ is determined by the residue class of~$p$
  modulo $5$. It is a theorem of Dirichlet, which was massively
  generalized by Chebotarev, that $p \equiv \pm 1$ half the time
  and $p \equiv \pm 2$ the other half the time.\footnote{
  For the actual statement and a proof of this theorem,
  see \cite{neukirch1999} Theorem~VII.13.4.}
\end{example}

\subsubsection{The Cube Root of Two}

Suppose $K/\QQ$ is not Galois.
Then $e_i$, $f_i$, and~$g$ are defined for each prime $p \in \ZZ$,
but we need not have $e_1=\cdots=e_g$ or $f_1=\cdots =f_g$.  We do still have that
$\sum_{i=1}^g e_i f_i = n$, by the Chinese Remainder Theorem as used in
the proof of \autoref{thm:transitive}.
%also \cite[Thm.~21]{marcus1977number}
%or \cite[Prop.~I.8.2]{neukirch1999}

Consider the case where $K=\QQ(\sqrt[3]{2})$. We know that $\sO_K = \ZZ[\sqrt[3]{2}]$.  Thus
$2\sO_K = (\sqrt[3]{2})^3$, so for $2$ we have $e=3$ and $f=g=1$.

Working modulo $5$ we have
\[
  x^3 - 2 = (x+2)(x^2+3x+4) \in \FF_5[x],
\]
and the quadratic factor is irreducible.  Thus
\[
  5\sO_K = \left(5, \sqrt[3]{2} + 2\right) \cdot
  \left(5, \left(\sqrt[3]{2}\right)^2 + 3\sqrt[3]{2} + 4\right).
\]
Thus here $g = 2$, $e_1 = e_2 = 1$, $f_1=1$, and $f_2 = 2$.
Thus when $K$ is not Galois we need not have that the $f_i$
are all equal.

\subsection{Definitions and Terminology}

In the previous sections we used words like ``ramify'',
``inert'', and ``split'' to describe the decomposition
of a prime in an extension. This section will define these
terms which will be used in later sections.

Let $L/K$ be an extension of number fields of degree $n$,
and let $\p$ be a prime in $\sO_K$. Then $\p$ factors in $\sO_L$ as
\[
  \p\sO_L = \prod_{i=1}^g \P_i^{e_i}
\]
where the $\P_i$ ranger over the primes of $\sO_L$ laying over $\p$.

\begin{definition}\label{def:ramify}
  \todo{idef?}
  The prime $\p$ \emph{ramifies} in $L$ if $e_i > 1$ for some $1\leq i\leq g$.
  Otherwise $\p$ is \emph{unramified}.
  %in general, residue fields should be separable, neukrich 49
  If also $g = 1$ and $f_1 = 1$, then $\p$ is \emph{totally ramified}.
\end{definition}

\begin{definition}\label{def:inert}
  The prime $\p$ is \emph{inert} in $L$ if $\p\sO_L$ is prime.
  In this case we have $g = 1$ and $e_1 = 1$.
\end{definition}

\begin{definition}\label{def:split}
  The prime $\p$ \emph{splits} in $L$ if $g > 1$. If also $g = [L : K]$,
  then $\p$ \emph{splits completely} or is \emph{totally split}.
\end{definition}

\begin{exercise}[See {\cite[Ch.~4, Exercise~24]{marcus1977number}}]
  Prove the following properties.
  \begin{enumerate}
    \item[(a)] If $\p$ it totally ramified in $L$
    then it is totally ramified in $K$.

    \item[(b)] Let $L'$ be another extension of $K$.
    If $\p$ is totally ramified in $L$ and unramified in $L'$
    then $L\cap L' = K$.
  \end{enumerate}
\end{exercise}

\begin{exercise}
  Let $K$ be a number field and $d_K$ the discriminant of $K$
  Prove that a prime $p$ divides $d_K$ if and only if $p$ ramifies in $K$.

  \begin{hint}
    This is proved in many books, see for example
    \cite[Thm.~24]{marcus1977number} or \cite[Cor.~III.2.12]{neukirch1999}
  \end{hint}
\end{exercise}

\section{The Decomposition Group}

Suppose $K$ is a number field that is Galois over $\QQ$ with
group $G = \Gal(K/\QQ)$. Fix a prime $\p \subset \sO_K$ lying over $p \in \ZZ$.
\begin{definition}[Decomposition group]\label{def:decomp}
  The \defn{decomposition group} of $\p$ is the subgroup
  \[
    D_\p = \{\sigma \in G \colon \sigma(\p) = \p\} \subset G.
  \]
\end{definition}
Note that $D_\p$ is the stabilizer of $\p$ for
the action of $G$ on the set of primes lying over $p$.

It also makes sense to define decomposition groups for relative
extensions $L/K$, but for simplicity and to fix ideas in this section
we only define decomposition groups for a Galois extension $K/\QQ$.

Let $\FF_{\p} = \sO_K/\p$ denote the residue class field of $\p$.
In this section we will prove that there is an exact sequence
\[
  1\to I_\p \to D_\p \to \Gal(\FF_{\p}/\FF_p)\to 1,
\]
where $I_\p$ is the \defn{inertia subgroup} of $D_\p$, and $\#I_\p=e = e(\p/p)$.
The most interesting part of the proof is showing that the natural
map $D_\p\to  \Gal(\FF_{\p}/\FF_p)$ is surjective.
We will also discuss the structure of $D_\p$ and introduce
Frobenius elements, which play a crucial role in understanding Galois
representations.


Recall from Theorem~\ref{thm:transitive} that~$G$ acts transitively
on the set of primes~$\p$ lying over~$p$.
The orbit-stabilizer theorem implies that $[G:D_\p]$ equals the
cardinality of the orbit of~$\p$, which by Theorem~\ref{thm:transitive}
equals the number~$g$ of primes lying over~$p$, so $[G:D_\p]=g$.

\begin{lemma}\label{decompGpsConj}\ilem{decomposition groups are conjugate}
  The decomposition subgroups $D_\p$ corresponding to primes $\p$
  lying over a given $p$ are all conjugate as subgroups of~$G$.
\end{lemma}
\begin{proof}
  See Exercise~\ref{ex:decompGpsConj}.
\end{proof}

\begin{exercise}\label{ex:decompGpsConj}
  Prove Lemma~\ref{decompGpsConj}.

  \begin{hint}
    For $\sigma,\tau\in G$ you need to show
    $\tau D_\p \tau^{-1} = D_{\tau\p}$.
    Start by writing down what it means for $\sigma\in D_\p$
    and $\tau\sigma\tau^{-1}\in D_{\tau\p}$.
  \end{hint}
  %solution:
  %We have for each $\sigma, \tau \in G$, that
  %$$\tau^{-1}\sigma \tau\p = \p
  %\iff
  %\sigma\tau \p = \tau \p,
  %$$
  %so
  %$$
  %\sigma \in D_{\tau\p} \iff \tau^{-1}\sigma\tau\in D_\p.
  %$$
  %Thus
  %$$
  %\sigma \in D_\p \iff \tau \sigma \tau^{-1} \in D_{\tau \p},
  %$$
  %which shows $\tau D_{\p}\tau^{-1} = D_{\tau \p}$.
\end{exercise}

The decomposition group is useful because it allows us
to refine the extension $K/\QQ$ into a tower of extensions, such that at
each step in the tower we understand the splitting behavior
of the primes lying over~$p$.

Recall the correspondence between subgroups of the Galois group
$G$ and subfields of $K$. The fixed fields corresponding to the
decomposition and inertia subgroups have an important description
in terms of the splitting behavior of the prime $\p$.
We characterize the fixed field of $D=D_\p$ as follows.

\begin{proposition}\label{prop:nosplit}\iprop{fixed field characterization}
  The fixed field
  \[
    K^D = \left\{a \in K \colon \sigma(a) = a\text{ for all }\sigma \in D\right\}
  \]
  of $D$ is the smallest subfield $F \subset K$ such that
  there is a unique prime of $\sO_K$ lying over $\q = \p\cap\sO_F$.
\end{proposition}
\begin{proof}
  First suppose $F = K^D$, and note that by Galois theory
  $\Gal(K/F)\isom D$. By Theorem~\ref{thm:transitive}, the group $D$
  acts transitively on the primes of $K$ lying over $\q$.  One of
  these primes is $\p$, and $D$ fixes $\p$ by definition, so there is
  only one prime of $K$ lying over $\q$.
  Conversely, if $F\subset K$ is such that $\q$ lies under a unique prime
  in $K$, then $\Gal(K/F)$ fixes $\p$ (since it is the only
  prime over $\q$), so $\Gal(K/F) \subset D$, hence $K^D \subset F$.
\end{proof}

Thus $p$ does not split in going from $K^D$ to $K$---it does some
combination of ramifying and staying inert.
To fill in more of the picture, the following proposition asserts that $p$
splits completely and does not ramify in $K^D/\QQ$.

\begin{proposition}\label{prop:noresidue}\iprop{$e$, $f$, $g$}
  Fix a finite Galois extension~$K$ of~$\QQ$,
  let~$\p$ be a prime lying over~$p$ with decomposition group~$D$,
  and set $F = K^D$ and $\q = \p \cap \sO_F$.
  Let $g$ be the number of primes of $K$ lying over $p$.
  Then
  \[
    e(\q/p) = f(\q/p) = 1,
    \quad e(\p/p) = e(\p/\q),
    \quad f(\p/p) = f(\p/\q),
    \quad \text{and } g = [F : \QQ].
  \]
\end{proposition}
\begin{proof}
  As mentioned right after Definition~\ref{def:decomp}, the
  orbit-stabilizer theorem implies that $g = [G : D]$, and
  by Galois theory $[G : D] = [F : \QQ]$, so $g = [F : \QQ]$. By
  Proposition~\ref{prop:nosplit}, $\p$ is the only prime of $K$
  lying over $\q$ so by Theorem~\ref{thm:transitive},
  \begin{align*}
    e(\p/\q) \cdot f(\p/\q) = [K:F]
    &= \frac{[K:\QQ]}{[F:\QQ]}
    \\
    &= \frac{e(\p/p) \cdot f(\p/p) \cdot g}{[F:\QQ]}
    \\
    &= e(\p/p) \cdot f(\p/p).
  \end{align*}
  Now $e(\p/\q)\leq e(\p/p)$ and $f(\p/\q)\leq f(\p/p)$, so
  we must have $e(\p/\q)=e(\p/p)$ and $f(\p/\q)=f(\p/p)$.
  Since from Exercise~\ref{ex:ramificationmultiplicative} we have
  $e(\p/p) = e(\p/\q) \cdot e(\q/p)$ and $f(\p/q) = f(\p/\q) \cdot f(\q/p)$,
  it follows that $e(\q/p) = f(\q/p) = 1$.
\end{proof}

We summarize the results of the decomposition of a prime in the
tower $K \supseteq K^D \supseteq \QQ$ in Table~\ref{tbl:decompfield}.
This table shows the ramification indices, inertia degrees,
and the number of primes at each step of the tower.

\begin{table}[h!]
  \centering
  \begin{tabular}{ccc|cc}
    \text{Ramification ($e$)} & \text{Inertia ($f$)} & \text{Splitting ($g$)} & \text{Primes} & \text{Fields} \\
    \hline
    &  &  & $\p$ & $K$ \\
    $e(\p/p)$ & $f(\p/p)$ & $1$ & $\vert$ & $\vert$ \\
    &  &  & $\q$ & $K^D$ \\
    $1$ & $1$ & $[K^D : \QQ]$ & $\vert$ & $\vert$ \\
    &  &  & $p$ &  $\QQ$
  \end{tabular}
  \caption{Decomposition in the fixed field $K^D$.}
  \label{tbl:decompfield}
\end{table}

\begin{exercise}
  Give an example of each of the following:
  \begin{enumerate}
    \item A finite nontrivial Galois extension $K$
    of $\QQ$ and a prime ideal $\p$ such that $D_\p = \Gal(K/\QQ)$.
    \item A finite nontrivial Galois extension $K$ of
    $\QQ$ and a prime ideal $\p$ such that $D_\p$ has order~$1$.
    \item A finite Galois extension~$K$ of
    $\QQ$ and a prime ideal $\p$ such that $D_\p$ is not a normal
    subgroup of $\Gal(K/\QQ)$.
    \item A finite Galois extension $K$ of
    $\QQ$ and a prime ideal $\p$ such that $I_\p$ is not a normal
    subgroup of $\Gal(K/\QQ)$.
  \end{enumerate}
\end{exercise}

\subsection{Galois groups of finite fields}\label{sec:galoisfinite}

Each $\sigma \in D = D_\p$ acts in a well-defined
way on the finite field $\FF_\p = \sO_K/\p$, so we obtain
a homomorphism
\[
  \varphi: D_\p \to \Aut(\FF_\p/\FF_p).
\]
We pause for a moment and review a few basic properties of
extensions of finite fields. In particular, they turn out
to be Galois so the map $\varphi$ above is actually a map
$D_\p \to \Gal(\FF_\p/\FF_p)$.
The properties in this section are general properties
of Galois groups for finite fields.

\begin{definition}
  Let $k$ be any field of characteristic $p$.
  Define $\Frob_p: k \to k$ to be the homomorphism
  given by $a\mapsto a^p$. The map $\Frob_p$ is
  called the \emph{Frobenius} homomorphism.
\end{definition}

\begin{exercise}\label{ex:frob}
  \hfill
  \begin{enumerate}
    \item Show the map $\Frob_p$ is in fact a field homomorphism,
    that is $\Frob_p(a + b) = \Frob_p(a) + \Frob_p(b)$
    and $\Frob_p(ab) = \Frob_p(a)\Frob_p(b)$.
    \item Suppose $k = \FF_p$. Then show $\Frob_p = id$, i.e.,
    $a^p = a$ for any $a\in\FF_p$.
    \item Suppose $k = \FF_{q}$ where $q=p^f$ for some $f\geq 1$.
    Show that $\Frob_p:k\to k$ is an automorphism.
    \item Continuing the previous part, note that by
    Exercise~\ref{ex:finitesubgroupoffieldcyclic}, $k^*$ is cyclic.
    Let $a\in k$ be a generator for $k^*$,
    so $a$ has multiplicative order $p^f-1$ and $k = \FF_p(a)$.
    Show that
    \[
      \Frob_p^n(a) = a^{p^n} = a
      \quad\Leftrightarrow\quad (p^f - 1) \mid p^n - 1
      \quad\Leftrightarrow\quad f \mid n
    \]
  \end{enumerate}
\end{exercise}

\begin{remark}
  Exercise~\ref{ex:frob} shows that all finite fields
  are \emph{perfect}. For more on perfect fields see
  a standard abstract algebra text such as
  \cite{dummit2004abstract}.
\end{remark}

By Exercise~\ref{ex:frob}(b,c) the map $\Frob_p$ is an
automorphism of $\FF_\p$ fixing $\FF_p$ and hence defines
an element in $\Gal(\FF_\p/\FF_p)$. Let $f = f_{\p/p}$ be the residue
degree of $\p$, i.e., $f = [\FF_\p:\FF_p]$.
Exercise~\ref{ex:frob}(d) shows the order of $\Frob_p$ is~$f$.
Since the order of the automorphism group of a field extension
is at most the degree of the extension, we conclude that
$\Aut(\FF_\p/\FF_p)$ is generated by $\Frob_p$. This shows
$\Aut(\FF_\p/\FF_p)$ has order equal to the degree $[\FF_\p/\FF_p]$
so we conclude that $\FF_\p/\FF_p$ is Galois.
We summarize the discussion into the following theorem.

\begin{theorem}\label{thm:galoisgroupfinitefield}
  The extension $\FF_{\p}/\FF_p$ is Galois and moreover,
  $\Gal(\FF_{\p}/\FF_p)$ is generated by the Frobenius map
  $\Frob_p$ defined by $a\mapsto a^p$.
\end{theorem}

\begin{exercise}
  Prove that up to isomorphism there is
  exactly one finite field of each degree.

  \begin{hint}
    By Theorem~\ref{thm:galoisgroupfinitefield}
    all elements in a finite field satisfy an equation
    of the form $x^{p^f} - x$ where $p$ is the
    characteristic and $f$ is the degree over $\FF_p$.
  \end{hint}
\end{exercise}


\subsection{The Exact Sequence}\label{sec:exactseq}

Because $D_\p$ preserves $\p$, there is a natural reduction homomorphism
\[
  \varphi:D_\p \to \Gal(\FF_{\p}/\FF_p).
\]
\begin{theorem}\label{thm:redsurj}\ithm{reduction of Galois group}
  The homomorphism $\varphi$ is surjective.
\end{theorem}
\begin{proof}
  Let $D = D_\p$ and $\tilde{a} \in \FF_{\p}$ be an element
  such that $\FF_{\p} = \FF_p(\tilde{a})$.
  Lift $\tilde{a}$ to an algebraic integer $a\in \sO_K$, and let
  $h = \prod_{\sigma \in D}(x-\sigma(a))\in K^D[x]$.
  Let $\tilde{h}$ be the reduction of $h$ modulo~$\p$.
  Note that $h(a) = 0$ so $\tilde{h}(\tilde{a}) = 0$.

  Note that the coefficients of $h$ lie in $\sO_{K^D}$.
  By Proposition~\ref{prop:noresidue}, the residue field of $\sO_{K^D}$
  is $\FF_p$ so $\tilde{h} \in \FF_p[x]$.
  Therefore $\tilde{h}$ is a multiple of the minimal polynomial of
  $\tilde{a}$ over $\FF_p$. In particular, $\Frob_p(\tilde{a})$
  must also be a root of $\tilde{h}$.
  Since the roots of $\tilde{h}$ are of the form $\widetilde{\sigma(a)}$
  this shows that $\widetilde{\sigma(a)} = \Frob_p(\tilde{a})$
  for some $\sigma\in D$.
  Hence $\varphi(\sigma)(\tilde{a}) = \Frob_p(\tilde{a})$. Since elements
  of $\Gal(K_\p/\FF_p)$ are determined by their action on $\tilde{a}$
  by choice of $\tilde{a}$, it follows that $\varphi(\sigma) = \Frob_p$
  and hence $\varphi$ is surjective because $\Frob_p$
  generates $\Gal(\FF_{\p}/\FF_p)$.
\end{proof}

\begin{definition}[Inertia Group]
  The \defn{inertia group associated to $\p$}
  is the kernel $I_\p$ of the map $D_\p \to \Gal(\FF_{\p}/\FF_p)$.
\end{definition}
We have an exact sequence of groups
\begin{equation}\label{eqn:exact}
  1 \to I_\p \to D_\p \to \Gal(\FF_{\p}/\FF_p)\to 1.
\end{equation}
The inertia group is a measure of how $p$ ramifies in $K$.
\begin{corollary}\icor{order of inertia group}
  We have $\# I_\p = e = e(\p/p)$.
\end{corollary}
\begin{proof}
  The exact sequence (\ref{eqn:exact}) implies that
  $\#I_\p = \#D_\p / f$ where $f = f(\p/p) = [\FF_{\p} : \FF_p]$.
  Applying Propositions~\ref{prop:nosplit} and \ref{prop:noresidue}, we have
  \[
    \#D_\p = \left[K : K^D\right] = \frac{[K:\QQ]}{g} = \frac{efg}{g} = ef.
  \]
  Dividing both sides by $f$ proves the corollary.
\end{proof}

We have the following characterization of $I_\p$.
\begin{proposition}\label{prop:charip}\iprop{inertia group characterization}
  Let $K/\QQ$ be a Galois extension with group $G$,
  and let~$\p$ be a prime of $\sO_K$ lying
  over a prime~$p$.  Then
  \[
    I_\p = \left\{
    \sigma\in G \ \colon \sigma(a) \equiv a\pmod{\p}\text{ for all } a\in\sO_K
    \right\}.
  \]
\end{proposition}
\begin{proof}
  By definition $I_\p = \{\sigma\in D_\p \colon \sigma(a) \equiv
  a\pmod{\p}\text{ for all } a\in\sO_K\}$, so it suffices to show that
  if $\sigma\not\in D_\p$, then there exists $a\in\sO_K$ such that
  $\sigma(a) \not\equiv a\pmod{\p}$.  If $\sigma\not\in D_\p$, then
  $\sigma^{-1}\not\in D_\p$, so $\sigma^{-1}(\p)\neq \p$.  Since both
  are maximal ideals, there exists $a\in\p$ with
  $a\not\in\sigma^{-1}(\p)$, i.e., $\sigma(a)\not\in\p$.  Thus
  $\sigma(a) \not\equiv a\pmod{\p}$.
\end{proof}

\begin{exercise}
  Let $I = I_\p$ be the inertia subgroup as above. Show that
  \begin{enumerate}
    \item $K^I$ is the largest subfield of $K$ such that $p$ is unramified
    in $K^I$.
    \item $K^I$ is the smallest subfield of $K$ such that $\p$ is totally
    ramified over $\p \cap K^I$.
  \end{enumerate}
\end{exercise}

Figure~\ref{fig:splitting-of-p} summarizes the relationship between $I,D$,
and the splitting of $p$ in $K$. The dots on the left represent primes
lying over $p$. The size of the dot represents the inertia degree.
Compare this with Table~\ref{tbl:decompfield}.
\begin{figure}
  \centering
  \begin{tikzpicture}[scale = 1.5]
  \node at (1,0) (Q) {$\QQ$};
  \node at (1,2) (K^D) {$K^D$};
  \node at (1,4) (K^I) {$K^I$};
  \node at (1,6) (K) {$K$};

  \draw (K) -- (K^I) node[right,midway]{$e$};
  \draw (K^I) -- (K^D) node[right,midway]{$f$};
  \draw (K^D) -- (Q) node[right,midway]{$g$};

  \node at (3,5) (I) {$I$};
  \node at (3,3) (D/I) {$D/I \cong \Gal(K^I/K^D)$};
  \node at (0,4) (D) {$D$};

  \draw (K^D) to [out=-180,in=-90](D);
  \draw (D) to [out=90,in=180](K);

  \draw (K^D) to [out=0,in=-90](D/I);
  \draw (D/I) to [out=90,in=0](K^I);

  \draw (K^I) to [out=0,in=-90](I);
  \draw (I) to [out=90,in=0](K);

  \node[draw] at (5,5) (K^I-Qefg) {$f = g = 1$};
  \node[draw] at (5,3) (K^D-K^Iefg) {$e = g = 1$};
  \node[draw] at (5,1) (QK^Defg) {$e = f = 1$};

  \node at (-2,0) (p) {$p$};

  \node at (-2.5,2) (q1) {\huge$\boldsymbol{\cdot}$};
  \node at (-2.0,2) (q2) {\huge$\boldsymbol{\cdot}$};
  \node at (-1.5,2) (q3) {\huge$\boldsymbol{\cdot}$};

  \draw (p) -- (q1);
  \draw (p) -- (q2);
  \draw (p) -- (q3);

  \node at (-2.5,4) (P1) {\large$\bullet$};
  \node at (-2.0,4) (P2) {\large$\bullet$};
  \node at (-1.5,4) (P3) {\large$\bullet$};

  \draw (q1) -- (P1);
  \draw (q2) -- (P2);
  \draw (q3) -- (P3);

  \node at (-2.5,6) (Q1) {\large$\bullet^{\text{\large $e$}}$\!\!\!\!};
  \node at (-2.0,6) (Q2) {\large$\bullet^{\text{\large $e$}}$\!\!\!\!};
  \node at (-1.5,6) (Q3) {\large$\bullet^{\text{\large $e$}}$\!\!\!\!};

  \draw (P1) -- (Q1);
  \draw (P2) -- (Q2);
  \draw (P3) -- (Q3);
  \end{tikzpicture}
  \caption{Splitting of $p$ in a Galois extension $K/\QQ$.}
  \label{fig:splitting-of-p}
\end{figure}


\section{Frobenius Elements}

Suppose that $K/\QQ$ is a finite Galois extension with group $G$ and $p$ is a
prime such that $e = 1$ (i.e., an unramified prime). Then $I = I_\p = 1$ for
any $\p\mid p$, so the map $\varphi$ of Theorem~\ref{thm:redsurj} is a canonical
isomorphism $D_\p \isom \Gal(\FF_{\p}/\FF_p)$. By Section~\ref{sec:galoisfinite},
the group $\Gal(\FF_{\p}/\FF_p)$ is cyclic with canonical generator $\Frob_p$.
The \defn{Frobenius element} corresponding to $\p$ is $\Frob_\p \in D_\p$.
It is the unique (see Exercise~\ref{ex:frobunique}) element of $G$ such that
for all $a \in \sO_K$ we have
\[
  \Frob_\p(a) \equiv a^p\pmod{\p}.
\]

\begin{exercise}\label{ex:frobunique}
  With the notation above, prove that $\Frob_\p$ is unique.
  That is, if $\sigma$ satisfies $\sigma(a) \equiv a^p \pmod{\p}$
  for all $a\in\sO_K$ then $\sigma = \Frob_\p$.
  
  \begin{hint}
    First show $\sigma\in D_\p$, then argue as in
    the proof of Proposition~\ref{prop:charip}.
  \end{hint}
\end{exercise}


Just as the primes $\p$ and decomposition groups $D_\p$ are all
conjugate, the Frobenius elements corresponding to primes
$\p\mid p$ are all conjugate as elements of~$G$.

\begin{proposition}\iprop{conjugation of Frobenius}
  For each $\sigma \in G$, we have
  \[
    \Frob_{\sigma\p} = \sigma\Frob_\p\sigma^{-1}.
  \]
  In particular, the Frobenius elements lying over a given
  prime are all conjugate.
\end{proposition}
\begin{proof}
  Fix $\sigma\in G$. For any $a\in\sO_K$ we have
  $\Frob_\p(\sigma^{-1}(a)) - \sigma^{-1}(a)^p \in \p$.
  Applying~$\sigma$ to both sides, we see that
  $\sigma\Frob_\p(\sigma^{-1}(a)) - a^p \in \sigma\p$,
  so $\sigma\Frob_\p\sigma^{-1} = \Frob_{\sigma \p}$.
\end{proof}

Thus the conjugacy class of $\Frob_\p$ in $G$ is a well-defined
function of~$p$.  For example, if $G$ is abelian, then $\Frob_\p$ does
not depend on the choice of $\p$ lying over $p$ and we obtain a well
defined symbol $\Legendre{K/\QQ}{p} = \Frob_\p\in G$ called the \defn{Artin symbol}.
It extends to a homomorphism from the free abelian
group on unramified primes~$p$ to~$G$.
Class field theory (for~$\QQ$) sets up a natural bijection
between abelian Galois extensions of $\QQ$ and certain maps from
certain subgroups of the group of fractional ideals for~$\ZZ$ (i.e., $\QQ^*$).
We have just described one direction of this bijection, which associates to an
abelian extension the Artin symbol (which is a homomorphism).

The Kronecker-Weber theorem asserts that the abelian extensions of
$\QQ$ are exactly the subfields of the fields $\QQ(\zeta_n)$, as $n$
varies over all positive integers.  By Galois theory there is a
correspondence between the subfields of the field $\QQ(\zeta_n)$,
which has Galois group $(\ZZ/n\ZZ)^*$, and the subgroups of $(\ZZ/n\ZZ)^*$.
If $H \subseteq (\ZZ/n\ZZ)^*$ is the subgroup corresponding to
$K \subset \QQ(\zeta_n)$ then the Artin reciprocity map
$p\mapsto \Legendre{K/\QQ}{p}$ is given by $p\mapsto [p]\in (\ZZ/n\ZZ)^*/H$.

\begin{remark}
  Notice above that the $n$ used is not unique. That is,
  if~$K$ is an abelian extension of $\QQ$ then it lies in some~$\QQ(\zeta_n)$.
  But then it also lies inside of~$\QQ(\zeta_{dn})$ for any
  positive integer~$d$. However, a different choice of $n$
  would mean a different choice of $H$. However the
  quotient $(\ZZ/n\ZZ)^*/H$ used is not dependent on $n$
  since it is isomorphic to the Galois group of $K/\QQ$.
\end{remark}

\section{The Artin Conjecture}\label{sec:artin}

The Galois group $\Gal(\overline{\QQ}/\QQ)$ is an object of central importance
in number theory, and we can interpret much of number theory as the
study of this group.  A good way to study a group is to study how it
acts on various objects, that is, to study its representations.

Endow $\Gal(\overline{\QQ}/\QQ)$ with the topology which has as a basis of open neighborhoods
of the origin the subgroups $\Gal(\overline{\QQ}/K)$, where~{$K$ varies
over finite Galois extensions of~$\QQ$.
Fix a positive integer~$n$ and let $\GL_n(\CC)$ be the group of
$n\times n$ invertible matrices over~$\CC$ with the discrete topology.

\begin{warning}\label{warn:galqtopology}
  The topology on $\Gal(\overline{\QQ}/\QQ)$ is {\bf not} the topology induced
  by taking as a basis of open neighborhoods around the origin
  the collection of finite-index normal subgroups of $\Gal(\overline{\QQ}/\QQ)$,
  see \cite[Ch.~7]{milne:FT} or Exercise~\ref{ex:nonopensbgpfiniteindexgalq}.
  In particular, there exist nonopen normal subgroups of finite index which
  do not correspond to subgroups $\Gal(\overline{\QQ}/K)$ for some finite Galois
  extension $K/\QQ$.
\end{warning}

\begin{definition}
  A \defn{complex  $n$-dimensional representation} of $\Gal(\overline{\QQ}/\QQ)$
  is a continuous homomorphism
  \[
    \rho: \Gal(\overline{\QQ}/\QQ) \to \GL_n(\CC).
  \]
\end{definition}
For $\rho$ to be continuous means that if $K$ is the fixed
field of $\ker(\rho)$, then $K/\QQ$ is a finite Galois extension.
We have a diagram
\[
  \begin{tikzcd}
  \Gal(\overline{\QQ}/\QQ) \arrow{rr}{\rho} \arrow{dr} & & \GL_n(\CC) \\
  & \Gal(K/\QQ) \arrow[hook]{ur}[swap]{\rho'}
  \end{tikzcd}
\]

\begin{exercise}\label{ex:galqrepfiniteimage}
  Suppose $\rho:\Gal(\overline{\QQ}/\QQ)\to\GL_n(\CC)$ is continuous.
  Show that the image is finite.
\end{exercise}

\begin{remark}
  The converse to Exercise~\ref{ex:galqrepfiniteimage}
  is \textbf{false} in general (see
  Exercise~\ref{ex:nonopensbgpfiniteindexgalq}).
  This is essentially the same warning as
  Warning~\ref{warn:galqtopology}, however it is worth
  pointing out to avoid mistakes.\footnote{
  See \cite[pg.~1]{artinconjectureLectureNotes}.}
\end{remark}

\begin{exercise}\label{ex:nonopensbgpfiniteindexgalq}
  Find a nonopen subgroup of index $2$ in $\Gal(\overline{\QQ}/\QQ)$.
  Note this is also an example of a non-continuous
  homomorphism $\Gal(\overline{\QQ}/\QQ)\to\GL_n(\CC)$ with finite image.

  \begin{hint}
    Use Zorn's lemma to show that there are homomorphisms
    $\Gal(\overline{\QQ}/\QQ)\to\{\pm 1\}$ with finite image that are not continuous,
    since they do not factor through the Galois group of any
    finite Galois extension.
  \end{hint}

  %  \begin{hint}
  %    The extension $\QQ(\sqrt{d}, d \in \QQ^*/(\QQ^*)^2)$
  %    is an extension of~$\QQ$ with Galois group $X\ncisom \prod \FF_2$.
  %    The index-two open subgroups of~$X$ correspond to the quadratic
  %    extensions of~$\QQ$. However, Zorn's lemma implies that~$X$
  %    contains many index-two subgroups that do not correspond to
  %    quadratic extensions of~$\QQ$.
  %  \end{hint}
\end{exercise}

\begin{exercise}
  Let $S_3$ by the symmetric group on three symbols, which has order $6$.
  \begin{enumerate}
    \item \label{ex:a} Observe that $S_3\isom D_3$, where $D_3$ is
    the dihedral group of order $6$, which is the group of symmetries of
    an equilateral triangle.
    \item Use (\ref{ex:a}) to write down an explicit
    embedding $S_3 \hookrightarrow \GL_2(\CC)$.
    \item Let $K$ be the number field $\QQ(\sqrt[3]{2},\omega)$,
    where $\omega^3=1$ is a nontrivial cube root of unity.  Show
    that $K$ is a Galois extension with Galois group isomorphic to~$S_3$.
    \item We thus obtain a $2$-dimensional irreducible complex
    Galois representation
    \[
      \rho:\Gal(\overline{\QQ}/\QQ) \to \Gal(K/\QQ) \isom S_3 \subset \GL_2(\CC).
    \]
    Compute a representative matrix of $\Frob_p$ and the characteristic polynomial
    of $\Frob_p$ for $p=5,7,11,13$.
  \end{enumerate}
\end{exercise}

Fix a Galois representation~$\rho$ and let $K$ be the fixed field of
$\ker(\rho)$, so~$\rho$ factors through $\Gal(K/\QQ)$.  For each prime
$p \in \ZZ$ that is not ramified in $K$, there is an element
$\Frob_\p\in\Gal(K/\QQ)$ that is well-defined up to conjugation by
elements of $\Gal(K/\QQ)$.  This means that $\rho'(\Frob_p)\in
\GL_n(\CC)$ is well-defined up to conjugation.  Thus the characteristic
polynomial $F_p(x) \in \CC[x]$ of $\rho'(\Frob_p)$ is a well-defined
invariant of $p$ and $\rho$.  Let
\[
  R_p(x)
  = x^{\deg(F_p)}\cdot F_p(1/x)
  = 1 + \cdots + \det(\Frob_p)\cdot x^{\deg(F_p)}
\]
be the polynomial obtain
by reversing the order of the coefficients of $F_p$.
Following E.~Artin \cite{artin:conjecture, artin:conjecture2}, set
\begin{equation}\label{eqn:artin}
  L(\rho,s) = \prod_{p\text{ unramified}}\frac{1}{R_p(p^{-s})}.
\end{equation}
We view $L(\rho,s)$ as a function of a single complex variable $s$.
One can prove that $L(\rho,s)$ is holomorphic on some right
half plane, and extends to a meromorphic function on all $\CC$.
\begin{conjecture}[Artin]\label{conj:artin}
  The $L$-function of any continuous representation
  \[
    \Gal(\overline{\QQ}/\QQ) \to \GL_n(\CC)
  \]
  is an entire function on all $\CC$, except possibly at $1$.
\end{conjecture}
This conjecture asserts that there is some way to analytically continue
$L(\rho,s)$ to the whole complex plane, except possibly at $1$.
(A standard fact from complex analysis is that this analytic
continuation must be unique.)
The simple pole at $s=1$ corresponds to the trivial representation (the
Riemann zeta function), and if $n\geq 2$ and $\rho$ is irreducible,
then the conjecture is that $\rho$ extends to a holomorphic function
on all $\CC$.

The conjecture is known when $n=1$.  Assume for the rest of this
paragraph that $\rho$ is odd, i.e., if $c\in\Gal(\overline{\QQ}/\QQ)$ is complex
conjugation, then $\det(\rho(c))=-1$.  When $n=2$ and the image of
$\rho$ in $\PGL_2(\CC)$ is a solvable group, the conjecture is known,
and is a deep theorem of Langlands and others (see
\cite{langlands:basechange}), which played a crucial roll in Wiles's
proof of Fermat's Last Theorem.  When $n=2$ and the image of $\rho$ in
$\PGL_2(\CC)$ is not solvable, the only possibility is that the
projective image is isomorphic to the alternating group~$A_5$.
Because~$A_5$ is the symmetry group of the icosahedron, these
representations are called \defn{icosahedral}.  In this case, Joe
Buhler's Harvard Ph.D. thesis \cite{buhler:thesis} gave the first
example in which $\rho$ was shown to satisfy
Conjecture~\ref{conj:artin}.  There is a book \cite{mr95i:11001},
which proves Artin's conjecture for 7 icosahedral representation (none
of which are twists of each other).  Kevin Buzzard and the author
proved the conjecture for 8 more examples \cite{buzzard-stein:artin}.
Subsequently, Richard Taylor, Kevin Buzzard, Nick Shepherd-Barron, and
Mark Dickinson proved the conjecture for an infinite class of
icosahedral Galois representations (disjoint from the examples)
\cite{bdsbt}.  The general problem for $n=2$ is in fact now completely
solved, due to recent work of Khare and Wintenberger
\cite{khare-wintenberger:serre1} that proves Serre's conjecture.
